<script setup>
import { useHead } from '#imports'

useHead({
  link: [
    {
      rel: 'preload',
      href: 'https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap',
      as: 'style'
    },
    {
      rel: 'stylesheet',
      href: 'https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap'
    }
  ]
});

import { useCartStore } from '@/stores/cartStore';
import { onMounted } from 'vue';

const cartStore = useCartStore();

onMounted(() => {
  // Check if thereâ€™s old invalid data, then reset
  if (!Array.isArray(cartStore.cart) || cartStore.cart.some(item => !item.id)) {
    console.log('Resetting cart...');
    cartStore.clearCart();
  }
});
</script>

<template>
  <div>
    <NuxtLayout>
      <NuxtPage />
    </NuxtLayout>
  </div>
</template>